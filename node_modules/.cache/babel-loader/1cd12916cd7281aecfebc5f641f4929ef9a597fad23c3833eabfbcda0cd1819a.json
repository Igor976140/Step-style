{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { CartContext, ProductsContext, CurrencyContext } from '../services/context';\nimport { Button, Grow, makeStyles, Paper, Typography, Table, TableBody, TableRow, TableCell, Grid } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport RemoveIcon from '@material-ui/icons/Remove';\nconst useStyles = makeStyles(theme => ({\n  // твій стиль тут\n}));\nexport default function ProductsDetails() {\n  _s();\n  var _currencyData$find;\n  const classes = useStyles();\n  const {\n    productID\n  } = useParams();\n  const [products] = useContext(ProductsContext);\n  const [cartState, cartDispatch] = useContext(CartContext);\n  const currencyData = useContext(CurrencyContext);\n  const [errorMessage, setErrorMessage] = useState('');\n  const product = products.find(item => item.id === productID);\n\n  // Знаходимо курс USD\n  const usdRate = ((_currencyData$find = currencyData.find(c => c.ccy === 'USD')) === null || _currencyData$find === void 0 ? void 0 : _currencyData$find.buy) || 0;\n  const detailsKeys = ['brand', 'gender', 'releaseDate', 'retailPrice', 'colorway'];\n  const detailsObj = product ? detailsKeys.reduce((acc, key) => {\n    let value = product[key];\n    if (key === 'retailPrice' && value && value !== 'N/A') {\n      const priceUAH = usdRate ? (Number(value) * usdRate).toFixed(2) : 'Немає курсу';\n      value = `${value} USD (${priceUAH} грн)`;\n    }\n    acc[key.charAt(0).toUpperCase() + key.slice(1)] = value;\n    return acc;\n  }, {}) : {};\n  const handleAddToCart = () => {\n    if (!(product !== null && product !== void 0 && product.retailPrice) || product.retailPrice === 'N/A' || Number(product.retailPrice) <= 0 || isNaN(Number(product.retailPrice))) {\n      setErrorMessage('Товар наразі відсутній у наявності');\n      return;\n    }\n    cartDispatch({\n      type: 'add',\n      item: product\n    });\n    setErrorMessage('');\n  };\n\n  // далі твій JSX рендер\n}\n_s(ProductsDetails, \"8UPeqzptlUGiWC+Ku4amP9UaTYE=\", false, function () {\n  return [useStyles, useParams];\n});\n_c = ProductsDetails;\nvar _c;\n$RefreshReg$(_c, \"ProductsDetails\");","map":{"version":3,"names":["React","useContext","useState","useParams","CartContext","ProductsContext","CurrencyContext","Button","Grow","makeStyles","Paper","Typography","Table","TableBody","TableRow","TableCell","Grid","ClearIcon","RemoveIcon","useStyles","theme","ProductsDetails","_s","_currencyData$find","classes","productID","products","cartState","cartDispatch","currencyData","errorMessage","setErrorMessage","product","find","item","id","usdRate","c","ccy","buy","detailsKeys","detailsObj","reduce","acc","key","value","priceUAH","Number","toFixed","charAt","toUpperCase","slice","handleAddToCart","retailPrice","isNaN","type","_c","$RefreshReg$"],"sources":["D:/Step-Style/src/components/ProductDetails.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { CartContext, ProductsContext, CurrencyContext } from '../services/context';\nimport { Button, Grow, makeStyles, Paper, Typography, Table, TableBody, TableRow, TableCell, Grid } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nconst useStyles = makeStyles((theme) => ({\n  // твій стиль тут\n}));\n\nexport default function ProductsDetails() {\n  const classes = useStyles();\n  const { productID } = useParams();\n\n  const [products] = useContext(ProductsContext);\n  const [cartState, cartDispatch] = useContext(CartContext);\n  const currencyData = useContext(CurrencyContext);\n\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const product = products.find(item => item.id === productID);\n\n  // Знаходимо курс USD\n  const usdRate = currencyData.find(c => c.ccy === 'USD')?.buy || 0;\n\n  const detailsKeys = ['brand', 'gender', 'releaseDate', 'retailPrice', 'colorway'];\n\n  const detailsObj = product\n    ? detailsKeys.reduce((acc, key) => {\n        let value = product[key];\n        if (key === 'retailPrice' && value && value !== 'N/A') {\n          const priceUAH = usdRate ? (Number(value) * usdRate).toFixed(2) : 'Немає курсу';\n          value = `${value} USD (${priceUAH} грн)`;\n        }\n        acc[key.charAt(0).toUpperCase() + key.slice(1)] = value;\n        return acc;\n      }, {})\n    : {};\n\n  const handleAddToCart = () => {\n    if (!product?.retailPrice || product.retailPrice === 'N/A' || Number(product.retailPrice) <= 0 || isNaN(Number(product.retailPrice))) {\n      setErrorMessage('Товар наразі відсутній у наявності');\n      return;\n    }\n    cartDispatch({ type: 'add', item: product });\n    setErrorMessage('');\n  };\n\n  // далі твій JSX рендер\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,QAAQ,OAAO;AACnD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,WAAW,EAAEC,eAAe,EAAEC,eAAe,QAAQ,qBAAqB;AACnF,SAASC,MAAM,EAAEC,IAAI,EAAEC,UAAU,EAAEC,KAAK,EAAEC,UAAU,EAAEC,KAAK,EAAEC,SAAS,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,IAAI,QAAQ,mBAAmB;AAC5H,OAAOC,SAAS,MAAM,0BAA0B;AAChD,OAAOC,UAAU,MAAM,2BAA2B;AAElD,MAAMC,SAAS,GAAGV,UAAU,CAAEW,KAAK,KAAM;EACvC;AAAA,CACD,CAAC,CAAC;AAEH,eAAe,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,kBAAA;EACxC,MAAMC,OAAO,GAAGL,SAAS,CAAC,CAAC;EAC3B,MAAM;IAAEM;EAAU,CAAC,GAAGtB,SAAS,CAAC,CAAC;EAEjC,MAAM,CAACuB,QAAQ,CAAC,GAAGzB,UAAU,CAACI,eAAe,CAAC;EAC9C,MAAM,CAACsB,SAAS,EAAEC,YAAY,CAAC,GAAG3B,UAAU,CAACG,WAAW,CAAC;EACzD,MAAMyB,YAAY,GAAG5B,UAAU,CAACK,eAAe,CAAC;EAEhD,MAAM,CAACwB,YAAY,EAAEC,eAAe,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAM8B,OAAO,GAAGN,QAAQ,CAACO,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKV,SAAS,CAAC;;EAE5D;EACA,MAAMW,OAAO,GAAG,EAAAb,kBAAA,GAAAM,YAAY,CAACI,IAAI,CAACI,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAK,KAAK,CAAC,cAAAf,kBAAA,uBAAvCA,kBAAA,CAAyCgB,GAAG,KAAI,CAAC;EAEjE,MAAMC,WAAW,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,aAAa,EAAE,UAAU,CAAC;EAEjF,MAAMC,UAAU,GAAGT,OAAO,GACtBQ,WAAW,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,KAAK;IAC/B,IAAIC,KAAK,GAAGb,OAAO,CAACY,GAAG,CAAC;IACxB,IAAIA,GAAG,KAAK,aAAa,IAAIC,KAAK,IAAIA,KAAK,KAAK,KAAK,EAAE;MACrD,MAAMC,QAAQ,GAAGV,OAAO,GAAG,CAACW,MAAM,CAACF,KAAK,CAAC,GAAGT,OAAO,EAAEY,OAAO,CAAC,CAAC,CAAC,GAAG,aAAa;MAC/EH,KAAK,GAAG,GAAGA,KAAK,SAASC,QAAQ,OAAO;IAC1C;IACAH,GAAG,CAACC,GAAG,CAACK,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGN,GAAG,CAACO,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGN,KAAK;IACvD,OAAOF,GAAG;EACZ,CAAC,EAAE,CAAC,CAAC,CAAC,GACN,CAAC,CAAC;EAEN,MAAMS,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAI,EAACpB,OAAO,aAAPA,OAAO,eAAPA,OAAO,CAAEqB,WAAW,KAAIrB,OAAO,CAACqB,WAAW,KAAK,KAAK,IAAIN,MAAM,CAACf,OAAO,CAACqB,WAAW,CAAC,IAAI,CAAC,IAAIC,KAAK,CAACP,MAAM,CAACf,OAAO,CAACqB,WAAW,CAAC,CAAC,EAAE;MACpItB,eAAe,CAAC,oCAAoC,CAAC;MACrD;IACF;IACAH,YAAY,CAAC;MAAE2B,IAAI,EAAE,KAAK;MAAErB,IAAI,EAAEF;IAAQ,CAAC,CAAC;IAC5CD,eAAe,CAAC,EAAE,CAAC;EACrB,CAAC;;EAED;AACF;AAACT,EAAA,CAvCuBD,eAAe;EAAA,QACrBF,SAAS,EACHhB,SAAS;AAAA;AAAAqD,EAAA,GAFTnC,eAAe;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}